System.register("chunks:///_virtual/Card.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,n,r,s,o,a,l,u,c,p,S,h,d,m;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.createForOfIteratorHelperLoose,r=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Sprite,u=t.SpriteAtlas,c=t.SpriteFrame,p=t.Color,S=t.Vec3,h=t.tween,d=t.UITransform,m=t.Component}],execute:function(){var b,g,f,v,w,k,y,_,F,C,P,B,z;o._RF.push({},"e9ae8MoviNGnbXZ2ussE1Bx","Card",void 0);var I=a.ccclass,A=a.property;t("Card",(b=I("Card"),g=A({type:l,tooltip:"Êï∞Â≠ó Sprite"}),f=A({type:l,tooltip:"Â∞èËä±Ëâ≤ Sprite"}),v=A({type:l,tooltip:"Â§ßËä±Ëâ≤ Sprite"}),w=A({type:u,tooltip:"ÊâëÂÖãÂõæÈõÜ"}),k=A({type:c,tooltip:"„ÄêÂøÖÊãñ„ÄëÁâåËÉåÂõæÁâá (Â¶ÇÊûú‰∏∫Á©∫ÂàôÂ∞ùËØïÁî®‰ª£Á†ÅÊâæ poker_back)"}),b((F=i((_=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return i=t.call.apply(t,[this].concat(n))||this,r(i,"numSprite",F,s(i)),r(i,"smallSuit",C,s(i)),r(i,"bigSuit",P,s(i)),r(i,"pokerAtlas",B,s(i)),r(i,"cardBackFrame",z,s(i)),i.isSelected=!1,i}e(i,t);var o=i.prototype;return o.start=function(){},o.showBack=function(){this.numSprite&&(this.numSprite.node.active=!1),this.smallSuit&&(this.smallSuit.node.active=!1),this.bigSuit&&(this.bigSuit.node.active=!1);var t=this.node.getComponent(l);t&&(t.node.active=!0,t.color=p.WHITE,this.cardBackFrame?t.spriteFrame=this.cardBackFrame:this.setSprite(t,"poker_back"))},o.setCard=function(t,i){if(this.numSprite&&(this.numSprite.node.active=!0),this.smallSuit&&(this.smallSuit.node.active=!0),this.bigSuit&&(this.bigSuit.node.active=!0),this.numSprite&&(this.numSprite.color=p.WHITE),this.smallSuit&&(this.smallSuit.color=p.WHITE,this.smallSuit.node.setScale(new S(1,1,1)),this.smallSuit.node.setPosition(new S(0,0,0))),this.bigSuit&&(this.bigSuit.color=p.WHITE,this.bigSuit.node.setScale(new S(1,1,1)),this.bigSuit.node.setPosition(new S(0,0,0))),this.setSprite(this.node.getComponent(l),"bg"),t>=13){var e=13==t?"smalltag_4":"smalltag_5";this.setSprite(this.smallSuit,e),this.smallSuit&&(this.smallSuit.node.setScale(new S(.45,.45,1)),this.smallSuit.node.setPosition(new S(-52,10,0)));var n=13==t?"bigtag_4":"bigtag_5";return this.setSprite(this.bigSuit,n),this.bigSuit&&(this.bigSuit.node.setPosition(new S(15,-10,0)),this.bigSuit.node.setScale(new S(.8,.8,1))),void(this.numSprite&&(this.numSprite.node.active=!1))}var r=[2,3,4,5,6,7,8,9,10,11,12,0,1][t],s=0===i||2===i?"red_":"black_";this.setSprite(this.numSprite,s+r);var o="bigtag_"+i;this.setSprite(this.smallSuit,o),this.smallSuit&&(this.smallSuit.node.setScale(new S(.4,.4,1)),this.smallSuit.node.setPosition(new S(-54,45,0))),this.setSprite(this.bigSuit,o),this.bigSuit&&(this.bigSuit.node.setPosition(new S(10,-25,0)),this.bigSuit.node.setScale(new S(.9,.9,1)))},o.setSelectState=function(t,i){if(void 0===i&&(i=!1),this.isSelected!==t){this.isSelected=t;var e=this.isSelected?20:0,n=this.node.position.x;i?this.node.setPosition(new S(n,e,0)):h(this.node).stop().to(.1,{position:new S(n,e,0)}).start()}},o.resetPreview=function(){},o.getWidth=function(){var t=this.node.getComponent(d);return t?t.contentSize.width:0},o.setSprite=function(t,i){if(this.pokerAtlas&&t){for(var e,r=this.pokerAtlas.getSpriteFrames(),s=null,o=n(r);!(e=o()).done;){var a=e.value;if(a.name===i||a.name===i+".png"||a.name.endsWith("/"+i)){s=a;break}}s?(t.spriteFrame=s,t.node.active=!0):"poker_back"!==i||this.cardBackFrame||console.warn("Card: Êâæ‰∏çÂà∞ÂõæÁâá "+i+"Ôºå‰∏îÊú™ËÆæÁΩÆ cardBackFrame Â±ûÊÄßÔºÅ")}},i}(m)).prototype,"numSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(_.prototype,"smallSuit",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(_.prototype,"bigSuit",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(_.prototype,"pokerAtlas",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(_.prototype,"cardBackFrame",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=_))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameLogic.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var a,r,t;return{setters:[function(e){a=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy,t=e._decorator}],execute:function(){var i;r._RF.push({},"08963cVuXZFXaSL7RKDAxVE","GameLogic",void 0);var n=t.ccclass,l=e("CardType",function(e){return e[e.Invalid=0]="Invalid",e[e.Single=1]="Single",e[e.Pair=2]="Pair",e[e.Triple=3]="Triple",e[e.TripleWithOne=4]="TripleWithOne",e[e.TripleWithPair=5]="TripleWithPair",e[e.Bomb=6]="Bomb",e[e.Rocket=7]="Rocket",e[e.Straight=8]="Straight",e[e.StraightPairs=9]="StraightPairs",e[e.Plane=10]="Plane",e}({}));e("GameLogic",n("GameLogic")(i=function(){function e(){}return e.toLogicValue=function(e){return 13===e?16:14===e?17:e+3},e.toRawValue=function(e){return 16===e?13:17===e?14:e-3},e.canBeat=function(e,a){return e.type===l.Rocket||a.type!==l.Rocket&&(e.type===l.Bomb?a.type!==l.Bomb||e.val>a.val:a.type!==l.Bomb&&(e.type===a.type&&((e.type!==l.Straight&&e.type!==l.StraightPairs||e.cards.length===a.cards.length)&&e.val>a.val)))},e.analyzeCards=function(e){var r=e.length;if(0===r)return{type:l.Invalid,val:0,cards:[]};e.sort((function(e,a){return a.val-e.val}));for(var t,i=new Map,n=a(e);!(t=n()).done;){var c=t.value;i.set(c.val,(i.get(c.val)||0)+1)}for(var o,v=0,u=0,p=a(i.entries());!(o=p()).done;){var s=o.value,f=s[0],d=s[1];d>v?(v=d,u=f):d===v&&f>u&&(u=f)}var g=e[0];if(1===r)return{type:l.Single,val:g.val,cards:e};if(2===r){if(17===e[0].val&&16===e[1].val)return{type:l.Rocket,val:100,cards:e};if(e[0].val===e[1].val)return{type:l.Pair,val:g.val,cards:e}}if(3===r&&3===v)return{type:l.Triple,val:u,cards:e};if(4===r){if(4===v)return{type:l.Bomb,val:u,cards:e};if(3===v)return{type:l.TripleWithOne,val:u,cards:e}}return r>=5&&1===v&&e[0].val<15&&e[0].val-e[r-1].val==r-1?{type:l.Straight,val:g.val,cards:e}:{type:l.Invalid,val:0,cards:[]}},e}())||i);r._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Card.ts","./GameLogic.ts","./OpponentHand.ts"],(function(t){var e,i,n,r,l,a,s,o,h,u,c,d,p,f,y,b,g,m,C,v,_,P,H,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.createForOfIteratorHelperLoose,r=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,o=t.Prefab,h=t.Node,u=t.Label,c=t.AudioSource,d=t.AudioClip,p=t.instantiate,f=t.Vec3,y=t.tween,b=t.Layout,g=t.UITransform,m=t.Color,C=t.Vec2,v=t.Component},function(t){_=t.Card},function(t){P=t.GameLogic,H=t.CardType},function(t){S=t.OpponentHand}],execute:function(){var w,T,B,L,A,z,D,E,M,O,x,I,R,G,N,V,U,k,W,F,j,Q,q,J,K,X,Y,Z,$,tt,et,it,nt,rt,lt,at,st,ot,ht,ut,ct,dt,pt,ft,yt,bt,gt,mt,Ct,vt,_t,Pt,Ht,St,wt;a._RF.push({},"00e4dQ48bRD0pWoymx8EV95","GameManager",void 0);var Tt=s.ccclass,Bt=s.property;t("GameManager",(w=Tt("GameManager"),T=Bt({type:o}),B=Bt({type:h}),L=Bt({type:h}),A=Bt({type:h}),z=Bt({type:S}),D=Bt({type:S}),E=Bt({type:h}),M=Bt({type:h}),O=Bt({type:h}),x=Bt({type:h}),I=Bt({type:h}),R=Bt({type:h}),G=Bt({type:u}),N=Bt({type:u}),V=Bt({type:u}),U=Bt({type:u}),k=Bt({type:h}),W=Bt({type:u}),F=Bt({type:h}),j=Bt({type:c}),Q=Bt({type:d}),q=Bt({type:d}),J=Bt({type:d}),K=Bt({type:d}),X=Bt({type:d}),Y=Bt({type:d}),w((tt=e(($=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,r(e,"cardPrefab",tt,l(e)),r(e,"meHolder",et,l(e)),r(e,"tableHolder",it,l(e)),r(e,"topHoleCardHolder",nt,l(e)),r(e,"leftPlayer",rt,l(e)),r(e,"rightPlayer",lt,l(e)),r(e,"btnPlay",at,l(e)),r(e,"btnPass",st,l(e)),r(e,"panelBid",ot,l(e)),r(e,"btnCallLandlord",ht,l(e)),r(e,"btnNoCall",ut,l(e)),r(e,"iconLandlord",ct,l(e)),r(e,"lblMyScore",dt,l(e)),r(e,"lblLeftScore",pt,l(e)),r(e,"lblRightScore",ft,l(e)),r(e,"infoLabel",yt,l(e)),r(e,"resultPanel",bt,l(e)),r(e,"resultTitle",gt,l(e)),r(e,"btnRestart",mt,l(e)),r(e,"audioSource",Ct,l(e)),r(e,"clipBGM",vt,l(e)),r(e,"clipClick",_t,l(e)),r(e,"clipDeal",Pt,l(e)),r(e,"clipPlay",Ht,l(e)),r(e,"clipWin",St,l(e)),r(e,"clipLose",wt,l(e)),e._myHand=[],e._myCardScripts=[],e._lastPlayedCards=[],e._currentBoss="",e._landlord="",e._holeCards=[],e._isSliding=!1,e._startIdx=-1,e._currentIdx=-1,e._targetSelectState=!0,e._isActing=!1,e}i(e,t);var a=e.prototype;return a.start=function(){var t=this;this.meHolder&&(this.meHolder.on(h.EventType.TOUCH_START,this.onTouchStart,this),this.meHolder.on(h.EventType.TOUCH_MOVE,this.onTouchMove,this),this.meHolder.on(h.EventType.TOUCH_END,this.onTouchEnd,this),this.meHolder.on(h.EventType.TOUCH_CANCEL,this.onTouchEnd,this)),this.btnPlay&&this.btnPlay.on(h.EventType.TOUCH_END,this.onPlayBtnClicked,this),this.btnPass&&this.btnPass.on(h.EventType.TOUCH_END,this.onPassBtnClicked,this),this.btnRestart&&this.btnRestart.on(h.EventType.TOUCH_END,this.initGame,this),this.btnCallLandlord&&this.btnCallLandlord.on(h.EventType.TOUCH_END,(function(){return t.onPlayerBid(!0)}),this),this.btnNoCall&&this.btnNoCall.on(h.EventType.TOUCH_END,(function(){return t.onPlayerBid(!1)}),this),this.scheduleOnce((function(){return t.initGame()}),.5)},a.playBGM=function(){this.audioSource&&this.clipBGM&&(this.audioSource.stop(),this.audioSource.clip=this.clipBGM,this.audioSource.loop=!0,this.audioSource.play())},a.playEffect=function(t){this.audioSource&&t&&this.audioSource.playOneShot(t)},a.initGame=function(){var t,e,i,n,r,l=this;console.log("üöÄ Ê∏∏ÊàèÈáçÁΩÆ"),this.resultPanel&&(this.resultPanel.active=!1),this.panelBid&&(this.panelBid.active=!1),this.iconLandlord&&(this.iconLandlord.active=!1),null==(t=this.topHoleCardHolder)||t.removeAllChildren(),null==(e=this.meHolder)||e.removeAllChildren(),null==(i=this.tableHolder)||i.removeAllChildren(),null==(n=this.leftPlayer)||null==(n=n.node)||n.removeAllChildren(),null==(r=this.rightPlayer)||null==(r=r.node)||r.removeAllChildren(),this.playBGM(),this._isActing=!0,this.lblMyScore&&(this.lblMyScore.string="üí∞ 10000"),this.lblLeftScore&&(this.lblLeftScore.string="üí∞ 5000"),this.lblRightScore&&(this.lblRightScore.string="üí∞ 5000"),this._lastPlayedCards=[],this._currentBoss="",this._landlord="",this._myCardScripts=[];for(var a=[],s=0;s<=12;s++)for(var o=0;o<=3;o++)a.push({val:P.toLogicValue(s),suit:o,index:0});a.push({val:16,suit:0,index:0}),a.push({val:17,suit:1,index:0}),a.sort((function(){return Math.random()-.5})),this._holeCards=a.slice(0,3);var h=a.slice(3);this.renderHoleCards(!1),this._myHand=h.slice(0,17),this._myHand.sort((function(t,e){return e.val-t.val})),this.leftPlayer&&this.leftPlayer.setCards(h.slice(17,34),!0),this.rightPlayer&&this.rightPlayer.setCards(h.slice(34,51),!0),this.showDebugTip("üöÄ ÂèëÁâå‰∏≠..."),this.animateDeal(this._myHand,(function(){l.startBiddingPhase()}))},a.startBiddingPhase=function(){this.showDebugTip("üé§ ÂºÄÂßãÂè´Âú∞‰∏ª"),this.showPlayerBidPanel()},a.showPlayerBidPanel=function(){this.panelBid&&(this.panelBid.active=!0),this.showDebugTip("üëâ ËØ∑ÈÄâÊã©ÔºöÂè´Âú∞‰∏ª / ‰∏çÂè´")},a.onPlayerBid=function(t){var e=this;this.panelBid&&(this.panelBid.active=!1),this.playEffect(this.clipClick),t?this.setLandlord("me"):(this.showDebugTip("üòê ‰Ω†‰∏çÂè´ÔºåÂè≥ËæπÊä¢‰∫ÜÔºÅ"),this.scheduleOnce((function(){return e.setLandlord("right")}),1))},a.setLandlord=function(t){var e=this;this._landlord=t;var i,n="me"===t?"‰Ω†":"left"===t?"Â∑¶Ëæπ":"Âè≥Ëæπ";(this.showDebugTip("üëë "+n+" Êàê‰∏∫Âú∞‰∏ªÔºÅ"),this.renderHoleCards(!0),"me"===t)?((i=this._myHand).push.apply(i,this._holeCards),this._myHand.sort((function(t,e){return e.val-t.val})),this.renderMyHand()):"left"===t?this.leftPlayer&&this.leftPlayer.addCards(this._holeCards):"right"===t&&this.rightPlayer&&this.rightPlayer.addCards(this._holeCards);this.updateLandlordIcon(t),this.scheduleOnce((function(){"me"===t?(e._currentBoss="me",e.startMyTurn()):e.opponentAction(t)}),1.5)},a.renderHoleCards=function(t){if(this.topHoleCardHolder){this.topHoleCardHolder.removeAllChildren();for(var e=0;e<this._holeCards.length;e++){var i=this._holeCards[e],n=p(this.cardPrefab);n.parent=this.topHoleCardHolder,n.setScale(.4,.4,1),n.setPosition(40*e-40,0,0);var r=n.getComponent(_);r&&r.setCard(P.toRawValue(i.val),i.suit)}}},a.updateLandlordIcon=function(t){if(this.iconLandlord){this.iconLandlord.active=!0;var e=new f(0,0,0);"me"===t&&(e=new f(-400,-200,0)),"left"===t&&(e=new f(-400,150,0)),"right"===t&&(e=new f(400,150,0)),y(this.iconLandlord).to(.5,{position:e,scale:new f(1,1,1)},{easing:"backOut"}).start()}},a.startMyTurn=function(){var t;(console.log("üëâ ËΩÆÂà∞‰Ω†‰∫Ü"),this.showDebugTip("ËΩÆÂà∞‰Ω†‰∫Ü"),this._isActing=!1,"me"===this._currentBoss)&&(this._lastPlayedCards=[],null==(t=this.tableHolder)||t.removeAllChildren(),this.showDebugTip("Ê≤°‰∫∫Ë¶ÅÔºå‰Ω†ÈöèÊÑèÂá∫"));this.btnPlay&&(this.btnPlay.active=!0),this.btnPass&&(this.btnPass.active=this._lastPlayedCards.length>0&&"me"!==this._currentBoss)},a.animateDeal=function(t,e){var i=this,n=0;this.schedule((function(){if(n>=t.length)e&&e();else{var r=t[n];i.createOneCard(r),i.playEffect(i.clipDeal),n++}}),.04,t.length)},a.createOneCard=function(t){if(this.meHolder){var e=p(this.cardPrefab);e.parent=this.meHolder,e.setPosition(0,0,0),e.setScale(1,1,1);var i=e.getComponent(_);i&&(i.setCard(P.toRawValue(t.val),t.suit),i.setSelectState(!1,!0),this._myCardScripts.push(i))}},a.onPlayBtnClicked=function(){var t=this;if(!this._isActing){for(var e=[],i=[],n=[],r=0;r<this._myCardScripts.length;r++)this._myCardScripts[r].isSelected?(e.push(this._myHand[r]),n.push(this._myCardScripts[r].node.worldPosition.clone())):i.push(this._myHand[r]);if(0!==e.length){var l=P.analyzeCards(e);if(l.type!==H.Invalid){if(this._lastPlayedCards.length>0&&"me"!==this._currentBoss){var a=P.analyzeCards(this._lastPlayedCards);if(!P.canBeat(l,a))return void this.showDebugTip("‚ùå Êâì‰∏çËøá‰∏äÂÆ∂")}this.playEffect(this.clipPlay),this._isActing=!0,this._myHand=i,this._lastPlayedCards=e,this._currentBoss="me",this.renderMyHand(),this.animatePlayedCards(e,n),this.btnPlay&&(this.btnPlay.active=!1),this.btnPass&&(this.btnPass.active=!1),0!==this._myHand.length?this.scheduleOnce((function(){return t.opponentAction("right")}),1):this.scheduleOnce((function(){return t.showResult(!0)}),1)}else this.showDebugTip("‚ùå ÁâåÂûã‰∏çÁ¨¶")}else this.showDebugTip("Ê≤°ÈÄâÁâåÔºÅ")}},a.onPassBtnClicked=function(){var t=this;this._isActing||(this.showDebugTip("‰∏çÂá∫"),this.playEffect(this.clipClick),this._isActing=!0,this.btnPlay&&(this.btnPlay.active=!1),this.btnPass&&(this.btnPass.active=!1),this.scheduleOnce((function(){return t.opponentAction("right")}),.5))},a.opponentAction=function(t){var e=this,i="right"===t?this.rightPlayer:this.leftPlayer,n="right"===t?"left":"me",r="right"===t?"Âè≥Ëæπ":"Â∑¶Ëæπ";if(i){var l;if(this._currentBoss===t)null==(l=this.tableHolder)||l.removeAllChildren();var a=this._currentBoss===t?[]:this._lastPlayedCards;i.startTurn(a,(function(l){if(l.length>0){if(e._lastPlayedCards=l,e._currentBoss=t,e.displayTableCards(l),e.playEffect(e.clipPlay),e.showDebugTip(r+" Âá∫Áâå"),0===i.getCardCount())return void e.scheduleOnce((function(){return e.showResult(!1)}),1)}else e.showDebugTip(r+" ‰∏çË¶Å");"me"===n?e.startMyTurn():e.opponentAction(n)}))}},a.displayTableCards=function(t){if(this.tableHolder){this.tableHolder.removeAllChildren();var e=this.tableHolder.getComponent(b);e&&(e.enabled=!1);var i=-(35*(t.length-1))/2;t.sort((function(t,e){return e.val-t.val}));for(var n=0;n<t.length;n++){var r=t[n],l=p(this.cardPrefab);l.parent=this.tableHolder,l.setScale(.5,.5,1),l.setPosition(i+35*n,0,0);var a=l.getComponent(_);a&&a.setCard(P.toRawValue(r.val),r.suit)}}},a.animatePlayedCards=function(t,e){if(this.tableHolder){this.tableHolder.removeAllChildren();var i=this.tableHolder.getComponent(b);i&&(i.enabled=!1);for(var n=-35*(t.length-1)/2,r=0;r<t.length;r++){var l=t[r],a=e[r],s=p(this.cardPrefab);s.parent=this.tableHolder,s.getComponent(_).setCard(P.toRawValue(l.val),l.suit);var o=this.tableHolder.getComponent(g).convertToNodeSpaceAR(a);s.setPosition(o),s.setScale(1,1,1),y(s).to(.25,{position:new f(n+35*r,0,0),scale:new f(.5,.5,1)},{easing:"cubicOut"}).start()}}},a.renderMyHand=function(){var t;null==(t=this.meHolder)||t.removeAllChildren(),this._myCardScripts=[],this._myHand.sort((function(t,e){return e.val-t.val}));for(var e,i=n(this._myHand);!(e=i()).done;){var r=e.value;this.createOneCard(r)}},a.showResult=function(t){this.resultPanel&&(this.resultPanel.active=!0,this.resultTitle&&(this.resultTitle.string=t?"üèÜ ËÉúÂà©ÔºÅ":"üò≠ Â§±Ë¥•",this.resultTitle.color=t?new m(255,215,0):new m(200,200,200))),this.audioSource&&this.audioSource.stop(),this.playEffect(t?this.clipWin:this.clipLose),this.showDebugTip(t?"Ê∏∏ÊàèÁªìÊùüÔºö‰Ω†Ëµ¢‰∫Ü":"Ê∏∏ÊàèÁªìÊùüÔºö‰Ω†Ëæì‰∫Ü")},a.showDebugTip=function(t){this.infoLabel&&(this.infoLabel.string=t,this.infoLabel.node.active=!0,this.unschedule(this.hideTip),this.scheduleOnce(this.hideTip,2))},a.hideTip=function(){this.infoLabel&&this.infoLabel.isValid&&(this.infoLabel.node.active=!1)},a.onTouchStart=function(t){if(!this._isActing){var e=this.getCardIndexByPos(t.getUILocation());-1!==e?(this.playEffect(this.clipClick),this._isSliding=!0,this._startIdx=e,this._currentIdx=e,this._targetSelectState=!this._myCardScripts[e].isSelected,this.updateSelectionVisual()):this._myCardScripts.forEach((function(t){return t.setSelectState(!1)}))}},a.onTouchMove=function(t){if(this._isSliding){var e=this.getCardIndexByPos(t.getUILocation());-1!==e&&e!==this._currentIdx&&(this._currentIdx=e,this.updateSelectionVisual())}},a.onTouchEnd=function(t){this._isSliding=!1},a.updateSelectionVisual=function(){for(var t=Math.min(this._startIdx,this._currentIdx),e=Math.max(this._startIdx,this._currentIdx),i=t;i<=e;i++)this._myCardScripts[i]&&this._myCardScripts[i].setSelectState(this._targetSelectState)},a.getCardIndexByPos=function(t){var e;if(null==(e=this.meHolder)||!e.getComponent(g))return-1;for(var i=this.meHolder.getComponent(g).convertToNodeSpaceAR(new f(t.x,t.y,0)),n=this._myCardScripts.length-1;n>=0;n--)if(this._myCardScripts[n].node.getComponent(g).getBoundingBox().contains(new C(i.x,i.y)))return n;return-1},e}(v)).prototype,"cardPrefab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e($.prototype,"meHolder",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e($.prototype,"tableHolder",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e($.prototype,"topHoleCardHolder",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e($.prototype,"leftPlayer",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e($.prototype,"rightPlayer",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e($.prototype,"btnPlay",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e($.prototype,"btnPass",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e($.prototype,"panelBid",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=e($.prototype,"btnCallLandlord",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=e($.prototype,"btnNoCall",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=e($.prototype,"iconLandlord",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=e($.prototype,"lblMyScore",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=e($.prototype,"lblLeftScore",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=e($.prototype,"lblRightScore",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=e($.prototype,"infoLabel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=e($.prototype,"resultPanel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=e($.prototype,"resultTitle",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=e($.prototype,"btnRestart",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=e($.prototype,"audioSource",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=e($.prototype,"clipBGM",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=e($.prototype,"clipClick",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pt=e($.prototype,"clipDeal",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ht=e($.prototype,"clipPlay",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=e($.prototype,"clipWin",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wt=e($.prototype,"clipLose",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=$))||Z));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Card.ts","./GameLogic.ts","./GameManager.ts","./OpponentHand.ts","./Player.ts","./PokerAlgo.ts","./SmartAI.ts"],(function(){return{setters:[null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/OpponentHand.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameLogic.ts","./Card.ts"],(function(t){var a,e,r,n,i,o,s,d,l,h,c,u,p,f,C;return{setters:[function(t){a=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.createForOfIteratorHelperLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,d=t.Label,l=t.Node,h=t.Prefab,c=t.instantiate,u=t.Component},function(t){p=t.GameLogic,f=t.CardType},function(t){C=t.Card}],execute:function(){var g,v,b,y,_,H,m,L,P;o._RF.push({},"ea670SVLvZJ0bSYtMBYXYPh","OpponentHand",void 0);var D=s.ccclass,O=s.property;t("OpponentHand",(g=D("OpponentHand"),v=O({type:d,tooltip:"ÊãñÂÖ•ÊòæÁ§∫Êï∞Â≠óÁöÑ Label"}),b=O({type:l,tooltip:"ÊãñÂÖ• Area_Left Êàñ Area_Right Áî®Êù•ÊîæÁâåÁöÑËäÇÁÇπ"}),y=O({type:h,tooltip:"ÊãñÂÖ• CardTemplate È¢ÑÂà∂‰Ωì"}),g((m=a((H=function(t){function a(){for(var a,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return a=t.call.apply(t,[this].concat(r))||this,n(a,"countLabel",m,i(a)),n(a,"cardHolder",L,i(a)),n(a,"cardPrefab",P,i(a)),a._handCards=[],a}e(a,t);var o=a.prototype;return o.setCards=function(t,a){this._handCards=t,this.sortHand(),this.updateDisplay()},o.addCards=function(t){var a;console.log("Opponent addCards:",t.length),(a=this._handCards).push.apply(a,t),this.sortHand(),this.updateDisplay()},o.getCardCount=function(){return this._handCards.length},o.sortHand=function(){this._handCards.sort((function(t,a){return a.val-t.val}))},o.updateDisplay=function(){if(this.countLabel&&(this.countLabel.string=this._handCards.length.toString()),this.cardHolder&&this.cardPrefab){this.cardHolder.removeAllChildren();Math.min(this._handCards.length,10);for(var t=0;t<this._handCards.length;t++){var a=c(this.cardPrefab);a.parent=this.cardHolder,a.setScale(.5,.5,1),a.setPosition(3*t,0,0);a.getComponent(C)}}},o.startTurn=function(t,a){var e=this;this.scheduleOnce((function(){var r=[];if(t&&0!==t.length){var n=p.analyzeCards(t);r=e.findCardsToBeat(n)}else e._handCards.length>0&&(r=[e._handCards[e._handCards.length-1]]);r.length>0?(e.removeCards(r),a(r)):a([])}),1)},o.removeCards=function(t){for(var a,e=[],n=[].concat(t),i=r(this._handCards);!(a=i()).done;){for(var o=a.value,s=-1,d=0;d<n.length;d++)if(n[d].val===o.val&&n[d].suit===o.suit){s=d;break}-1!==s?n.splice(s,1):e.push(o)}this._handCards=e,this.updateDisplay()},o.findCardsToBeat=function(t){if(t.type===f.Single)for(var a=this._handCards.length-1;a>=0;a--)if(this._handCards[a].val>t.val)return[this._handCards[a]];return[]},a}(u)).prototype,"countLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=a(H.prototype,"cardHolder",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=a(H.prototype,"cardPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=H))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/Player.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,n,t,i,a,l,o,c,u,s;return{setters:[function(e){r=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.Label,c=e.Sprite,u=e.Node,s=e.Component}],execute:function(){var p,b,f,d,y,g,h,v,L,m,I;a._RF.push({},"55282PreBBI7IhzCn1BgRWe","Player",void 0);var z=l.ccclass,P=l.property;e("Player",(p=z("Player"),b=P(o),f=P(o),d=P(c),y=P(u),p((v=r((h=function(e){function r(){for(var r,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return r=e.call.apply(e,[this].concat(a))||this,t(r,"nameLabel",v,i(r)),t(r,"scoreLabel",L,i(r)),t(r,"avatar",m,i(r)),t(r,"landlordIcon",I,i(r)),r}n(r,e);var a=r.prototype;return a.setInfo=function(e,r){this.nameLabel.string=e,this.scoreLabel.string=r.toString()},a.setLandlord=function(e){this.landlordIcon&&(this.landlordIcon.active=e)},r}(s)).prototype,"nameLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=r(h.prototype,"scoreLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=r(h.prototype,"avatar",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=r(h.prototype,"landlordIcon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=h))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/PokerAlgo.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,r;return{setters:[function(n){e=n.createForOfIteratorHelperLoose},function(n){r=n.cclegacy}],execute:function(){r._RF.push({},"6165aN1cJ1OxaqgkBiwYgnl","PokerAlgo",void 0);n("PokerAlgo",function(){function n(){}return n.filterSelectedCards=function(n){if(!n||0==n.length)return[];var e=[].concat(n).sort((function(n,e){return e.val-n.val})),r=this.findBomb(e);if(r.length>0)return r;var t=this.findStraight(e);return t.length>=5?t:n.map((function(n){return n.index}))},n.findBomb=function(n){for(var r,t=new Map,o=e(n);!(r=o()).done;){var u=r.value;t.has(u.val)||t.set(u.val,[]),t.get(u.val).push(u.index)}for(var i,a=e(t.values());!(i=a()).done;){var l=i.value;if(4===l.length)return l}return[]},n.findStraight=function(n){return n.filter((function(n){return n.val<15})).length,[]},n}());r._RF.pop()}}}));

System.register("chunks:///_virtual/SmartAI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameLogic.ts"],(function(r){var e,t,n,a;return{setters:[function(r){e=r.createForOfIteratorHelperLoose},function(r){t=r.cclegacy,n=r._decorator},function(r){a=r.CardType}],execute:function(){var o;t._RF.push({},"61d40OemwVC7ZfkaOkBIAxb","SmartAI",void 0);var u=n.ccclass;r("SmartAI",u("SmartAI")(o=function(){function r(){}return r.findMove=function(r,t,n){var o=[].concat(r).sort((function(r,e){return r.val-e.val}));if(!t||t===a.Invalid)return[o[0]];if(t===a.Single)for(var u,i=e(o);!(u=i()).done;){var v=u.value;if(v.val>n)return[v]}if(t===a.Pair){for(var c,l=new Map,f=e(o);!(c=f()).done;){var s=c.value;l.set(s.val,(l.get(s.val)||0)+1)}for(var d,p,g=function(){var e=p.value;if(e.val>n&&l.get(e.val)>=2)return{v:r.filter((function(r){return r.val===e.val})).slice(0,2)}},m=e(o);!(p=m()).done;)if(d=g())return d.v}return[]},r}())||o);t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});